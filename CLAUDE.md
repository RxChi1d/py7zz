# CLAUDE.md

æ­¤æª”æ¡ˆæä¾› Claude Code (claude.ai/code) åœ¨æ­¤å„²å­˜åº«ä¸­å·¥ä½œæ™‚çš„æŒ‡å¼•ã€‚

## èªè¨€è¦å‰‡

**é‡è¦ï¼šè«‹åš´æ ¼éµå¾ªä»¥ä¸‹èªè¨€è¦å‰‡**

1. **Claude.md å…§å®¹**ï¼šä½¿ç”¨zh-tw
2. **èˆ‡ Claude å°è©±**ï¼šä½¿ç”¨zh-tw
3. **ç¨‹å¼ç¢¼è¨»è§£**ï¼šä½¿ç”¨en
4. **å‡½æ•¸/è®Šæ•¸å‘½å**ï¼šä½¿ç”¨en
5. **Git commit è¨Šæ¯**ï¼šä½¿ç”¨en
6. **æ–‡ä»¶å­—ä¸² (docstrings)**ï¼šä½¿ç”¨en

## å°ˆæ¡ˆæ¦‚è¿°

py7zz æ˜¯ä¸€å€‹ Python å¥—ä»¶ï¼Œå°è£äº†å®˜æ–¹çš„ 7zz CLI å·¥å…·ï¼Œè·¨å¹³å°ï¼ˆmacOSã€Debian ç³» Linuxã€Windows x64ï¼‰æä¾›ä¸€è‡´çš„ç‰©ä»¶å°å‘ç¨‹å¼ä»‹é¢ï¼Œä¸¦å…·å‚™è‡ªå‹•æ›´æ–°æ©Ÿåˆ¶ã€‚å°ˆæ¡ˆéµå¾ªã€ŒVibe Codingã€å·¥ä½œæµç¨‹ï¼Œå¼·èª¿å¿«é€Ÿè¿­ä»£ã€CI/CD æ•´åˆä»¥åŠå¼·åˆ¶ç¨‹å¼ç¢¼æ ¼å¼åŒ–ã€‚

**Python æ”¯æ´ç‰ˆæœ¬**ï¼šPython 3.8+ (åŒ…å« Python 3.13)

**å°ˆæ¡ˆé¡˜æ™¯**ï¼šè®“ä½¿ç”¨è€…ã€Œpip install py7zzã€å¾Œï¼Œç«‹å³èƒ½å¤ é€šéè·¨å¹³å°çµ±ä¸€çš„Python APIæ¥å£æˆ–py7zz CLIå·¥å…·å£“ç¸®/è§£å£“ç¸®æ•¸åç¨®æ ¼å¼ï¼Œç„¡éœ€é å…ˆå®‰è£ 7-Zipï¼Œwheel å¥—ä»¶åŒ…å«å¹³å°ç‰¹å®šçš„ 7zz äºŒé€²ä½æª”æ¡ˆã€‚

## é–‹ç™¼å‘½ä»¤

### ç’°å¢ƒè¨­å®š
```bash
source .venv/bin/activate  # å•Ÿå‹•è™›æ“¬ç’°å¢ƒï¼ˆç›´æ¥ä½¿ç”¨å·¥å…·æ™‚å¿…é ˆï¼‰

# è¨­å®šé–‹ç™¼äºŒé€²ä½æª”æ¡ˆè·¯å¾‘ï¼ˆé–‹ç™¼ç”¨ï¼Œå¯é¸ï¼‰
export PY7ZZ_BINARY=/opt/homebrew/bin/7zz  # macOS with Homebrew
# export PY7ZZ_BINARY=/usr/bin/7zz         # Linux systems
# export PY7ZZ_BINARY=/path/to/7zz.exe     # Windows systems
```

### å®‰è£æ–¹æ³•

py7zz æ”¯æ´å¤šç¨®å®‰è£æ–¹æ³•ä»¥æ»¿è¶³ä¸åŒä½¿ç”¨æƒ…å¢ƒï¼š

#### 1. æ­£å¼ç‰ˆå®‰è£ï¼ˆæ¨è–¦ï¼‰
```bash
pip install py7zz
```
- åŒ…å«ç¶å®šçš„ 7zz äºŒé€²ä½æª”æ¡ˆä»¥ç¢ºä¿ç‰ˆæœ¬ä¸€è‡´æ€§
- ç„¡éœ€é¡å¤–è¨­å®š
- è‡ªå‹•äºŒé€²ä½æª”æ¡ˆåµæ¸¬å’Œç‰ˆæœ¬é…å°

#### 2. é–‹ç™¼ç‰ˆå®‰è£ï¼ˆå¾åŸå§‹ç¢¼ï¼‰
```bash
# è¤‡è£½å„²å­˜åº«ä¸¦ä»¥å¯ç·¨è¼¯æ¨¡å¼å®‰è£
git clone https://github.com/rxchi1d/py7zz.git
cd py7zz
pip install -e .
```
- é¦–æ¬¡ä½¿ç”¨æ™‚è‡ªå‹•ä¸‹è¼‰æ­£ç¢ºçš„ 7zz äºŒé€²ä½æª”æ¡ˆ
- å¿«å–æ–¼ ~/.cache/py7zz/ ä»¥ä¾›é›¢ç·šä½¿ç”¨
- ç¢ºä¿ç‰ˆæœ¬ä¸€è‡´æ€§è€Œä¸ä¾è³´ç³»çµ±

#### 3. ç›´æ¥ GitHub å®‰è£
```bash
# å®‰è£æœ€æ–°é–‹ç™¼ç‰ˆæœ¬
pip install git+https://github.com/rxchi1d/py7zz.git
```
- ç›´æ¥å¾ GitHub å„²å­˜åº«å®‰è£
- é¦–æ¬¡ä½¿ç”¨æ™‚è‡ªå‹•ä¸‹è¼‰æ­£ç¢ºçš„ 7zz äºŒé€²ä½æª”æ¡ˆ
- ç„¡éœ€æœ¬åœ° git è¤‡è£½æˆ–ç³»çµ± 7zz

#### äºŒé€²ä½æª”æ¡ˆç™¼ç¾é †åºï¼ˆæ··åˆæ–¹æ³•ï¼‰
py7zz ä¾ä¸‹åˆ—é †åºå°‹æ‰¾ 7zz äºŒé€²ä½æª”æ¡ˆï¼š
1. **PY7ZZ_BINARY** ç’°å¢ƒè®Šæ•¸ï¼ˆåƒ…é–‹ç™¼/æ¸¬è©¦ç”¨ï¼‰
2. **ç¶å®šäºŒé€²ä½æª”æ¡ˆ**ï¼ˆPyPI wheel å¥—ä»¶ï¼‰
3. **è‡ªå‹•ä¸‹è¼‰äºŒé€²ä½æª”æ¡ˆ**ï¼ˆåŸå§‹ç¢¼å®‰è£ - å¿«å–æ–¼ ~/.cache/py7zz/ï¼‰

**ä¸»è¦ç‰¹è‰²ï¼š**
- **éš”é›¢æ€§**ï¼šæ°¸ä¸ä½¿ç”¨ç³»çµ± 7zz ä»¥é¿å…è¡çª
- **ç‰ˆæœ¬ä¸€è‡´æ€§**ï¼šæ¯å€‹ py7zz ç‰ˆæœ¬éƒ½èˆ‡ç‰¹å®š 7zz ç‰ˆæœ¬é…å°
- **è‡ªå‹•åŒ–**ï¼šåŸå§‹ç¢¼å®‰è£é¦–æ¬¡ä½¿ç”¨æ™‚è‡ªå‹•ä¸‹è¼‰æ­£ç¢ºäºŒé€²ä½æª”æ¡ˆ
- **å¿«å–**ï¼šä¸‹è¼‰çš„äºŒé€²ä½æª”æ¡ˆå¿«å–ä»¥ä¾›é›¢ç·šä½¿ç”¨

é€™ç¢ºä¿äº†æ‰€æœ‰å®‰è£æ–¹æ³•çš„å¯é æ€§ã€éš”é›¢æ€§å’Œç‰ˆæœ¬ä¸€è‡´æ€§ã€‚

### ä¾è³´ç®¡ç†
**é‡è¦**ï¼šæ‰€æœ‰ä¾è³´å¿…é ˆé€é `uv add` å‘½ä»¤ç®¡ç†ã€‚ç¦æ­¢æ‰‹å‹•ç·¨è¼¯ `pyproject.toml` æˆ–ä½¿ç”¨ `uv pip install`ã€‚

```bash
# åŸ·è¡ŒæœŸä¾è³´
uv add requests rich typer packaging

# é–‹ç™¼ä¾è³´
uv add --dev pytest ruff mypy
```

### æ ¸å¿ƒé–‹ç™¼å¾ªç’°
```bash
# ä½¿ç”¨ uvï¼ˆæ¨è–¦ï¼‰
uv run ruff check --fix .   # é¢¨æ ¼æª¢æŸ¥ä¸¦è‡ªå‹•ä¿®æ­£
uv run ruff format .        # æ ¼å¼åŒ–ç¨‹å¼ç¢¼
uv run mypy .               # é¡å‹æª¢æŸ¥
uv run pytest              # åŸ·è¡Œå–®å…ƒæ¸¬è©¦

# æˆ–ä½¿ç”¨å‚³çµ±å‘½ä»¤ï¼ˆéœ€è¦å•Ÿå‹•è™›æ“¬ç’°å¢ƒï¼‰
source .venv/bin/activate
ruff check --fix .
ruff format .
mypy .
pytest
```

**æ³¨æ„**ï¼šå®Œæ•´çš„ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥æœƒåœ¨ GitHub Actions ä¸­åŸ·è¡Œï¼Œç¢ºä¿ PR åˆä½µå‰çš„ç¨‹å¼ç¢¼å“è³ªã€‚

### å®Œæ•´é–‹ç™¼å·¥ä½œæµç¨‹ç¯„ä¾‹
```bash
# 1. å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
source .venv/bin/activate

# 2. é–‹ç™¼ç¨‹å¼ç¢¼...

# 3. åŸ·è¡Œå®Œæ•´è³ªæª¢æµç¨‹ï¼ˆèˆ‡ CI ä¸€è‡´ï¼‰
uv run ruff format .        # æ ¼å¼åŒ–ç¨‹å¼ç¢¼
uv run ruff check --fix .   # æª¢æŸ¥ä¸¦ä¿®æ­£ç¨‹å¼ç¢¼é¢¨æ ¼ï¼ˆåŒ…å« SIM è¦å‰‡ï¼‰
uv run mypy .               # é¡å‹æª¢æŸ¥
uv run pytest              # åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶

# 4. ç¢ºèªæ‰€æœ‰æª¢æŸ¥é€šéå¾Œæ‰æäº¤
git add .
git commit -m "feat: add new feature"

# 5. æ¨é€å‰å†æ¬¡ç¢ºèª CI æœƒé€šé
git push origin <branch-name>
```

## æ¶æ§‹

### å°ˆæ¡ˆçµæ§‹
```
py7zz/
â”œâ”€â”€ __init__.py            # åŒ¯å‡º SevenZipFile, get_version
â”œâ”€â”€ core.py                # subprocess è† åˆã€banner è§£æ
â”œâ”€â”€ cli.py                 # CLI å·¥å…·å…¥å£é»
â”œâ”€â”€ async_ops.py           # ç•°æ­¥æ“ä½œæ”¯æ´
â”œâ”€â”€ bin/                   # äºŒé€²ä½æª”æ¡ˆç›®éŒ„
â”‚   â””â”€â”€ 7zz[.exe]         # å¹³å°ç‰¹å®šäºŒé€²ä½æª”æ¡ˆï¼ˆæ¯å€‹ wheel åªåŒ…å«ä¸€å€‹ï¼‰
â”œâ”€â”€ updater.py             # GitHub API æ•´åˆåŠåŸå§‹ç¢¼å®‰è£çš„è‡ªå‹•ä¸‹è¼‰
â”œâ”€â”€ bundled_info.py        # ç‰ˆæœ¬è¨»å†Šè¡¨å’ŒäºŒé€²ä½æª”æ¡ˆè³‡è¨Š
â”œâ”€â”€ pyproject.toml         # build-system = "hatchling"
â”œâ”€â”€ README.md
â”œâ”€â”€ CLAUDE.md              # Claude Code å·¥ä½œæŒ‡å¼•
â”œâ”€â”€ tests/                 # æ¸¬è©¦å¥—ä»¶
â”‚   â”œâ”€â”€ test_*.py         # å„ç¨®æ¸¬è©¦æ¨¡çµ„
â”‚   â””â”€â”€ __init__.py
â””â”€â”€ .github/workflows/
    â”œâ”€â”€ ci.yml             # push/PR æ™‚çš„ lint+test (Python 3.8-3.13)
    â”œâ”€â”€ build.yml          # tag push æ™‚çš„ wheel çŸ©é™£å»ºç½®
    â””â”€â”€ watch_release.yml  # å¤œé–“å»ºç½®è‡ªå‹•åŒ–
```

### æ ¸å¿ƒå…ƒä»¶
- **SevenZipFile**ï¼šä¸»è¦ API é¡åˆ¥ï¼Œé¡ä¼¼ zipfile ä»‹é¢
- **core.run_7z()**ï¼š7zz CLI åŸ·è¡Œçš„ subprocess åŒ…è£å™¨
- **AsyncSevenZipFile**ï¼šç•°æ­¥æ“ä½œæ”¯æ´ï¼Œå…·é€²åº¦å ±å‘ŠåŠŸèƒ½
- **CLI å·¥å…·**ï¼špy7zz å‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›ç›´æ¥ 7zz æ“ä½œ
- **äºŒé€²ä½æª”æ¡ˆè§£æ**ï¼šå…·éš”é›¢æ€§å’Œç‰ˆæœ¬ä¸€è‡´æ€§çš„æ··åˆæ–¹æ³•
- **ç‰ˆæœ¬ä¸€è‡´æ€§**ï¼šæ¯å€‹ py7zz ç‰ˆæœ¬éƒ½èˆ‡ç‰¹å®š 7zz ç‰ˆæœ¬é…å°ä»¥ç¢ºä¿ç©©å®šæ€§
- **ä¸‰å±¤ç‰ˆæœ¬æ§åˆ¶**ï¼šReleaseï¼ˆç©©å®šï¼‰ã€Autoï¼ˆåŸºæœ¬ç©©å®šï¼‰ã€Devï¼ˆä¸ç©©å®šï¼‰

### API è¨­è¨ˆ

py7zz éµå¾ª**åˆ†å±¤ API è¨­è¨ˆ**ä»¥æœå‹™ä¸åŒä½¿ç”¨è€…éœ€æ±‚å’ŒæŠ€èƒ½æ°´æº–ï¼š

1. **ç°¡å–®å‡½æ•¸ API**ï¼šä¸€è¡Œè§£æ±ºæ–¹æ¡ˆï¼ˆ80% ä½¿ç”¨æƒ…å¢ƒï¼‰
2. **ç›¸å®¹æ€§ API**ï¼šé¡ä¼¼ zipfile.ZipFile ä»‹é¢ï¼ˆé·ç§»ä½¿ç”¨è€…ï¼‰
3. **é€²éšæ§åˆ¶ API**ï¼šç´°ç²’åº¦æ§åˆ¶èˆ‡è‡ªè¨‚çµ„æ…‹ï¼ˆé€²éšä½¿ç”¨è€…ï¼‰
4. **ç•°æ­¥ API**ï¼šéé˜»å¡æ“ä½œèˆ‡é€²åº¦å ±å‘Šï¼ˆå¤§å‹æª”æ¡ˆè™•ç†ï¼‰
5. **åŸç”Ÿ 7zz API**ï¼šç›´æ¥ 7zz å‘½ä»¤å­˜å–ï¼ˆå°ˆå®¶ä½¿ç”¨è€…ï¼‰

#### è¨­è¨ˆåŸå‰‡
1. **æ¼¸é€²è¤‡é›œæ€§**ï¼šç°¡å–® â†’ æ¨™æº– â†’ é€²éš â†’ å°ˆå®¶
2. **æ™ºæ…§é è¨­å€¼**ï¼šæ ¹æ“šä½¿ç”¨æ¨¡å¼è‡ªå‹•æœ€ä½³è¨­å®š
3. **æ ¼å¼é€æ˜æ€§**ï¼šå¾æª”æ¡ˆå‰¯æª”åè‡ªå‹•åµæ¸¬æ ¼å¼
4. **é·ç§»å‹å–„**ï¼šå¾ zipfile/tarfile æœ€å°‘ç¨‹å¼ç¢¼è®Šæ›´
5. **éŒ¯èª¤è™•ç†**ï¼šæ¸…æ™°ã€å¯åŸ·è¡Œçš„éŒ¯èª¤è¨Šæ¯

## CI/CD æµæ°´ç·š

### GitHub Actions å·¥ä½œæµç¨‹
1. **ci.yml**ï¼špush/PR æ™‚åŸ·è¡Œ - åŸ·è¡Œ ruffã€pytestã€mypyï¼ˆPR é–˜é“ï¼‰
   - æ¸¬è©¦ Python ç‰ˆæœ¬ï¼š3.8, 3.9, 3.10, 3.11, 3.12, 3.13
2. **build.yml**ï¼štag push æ™‚è§¸ç™¼ - ä½¿ç”¨çŸ©é™£å»ºç½®ç‚ºæ‰€æœ‰å¹³å°å»ºç½® wheel
3. **watch_release.yml**ï¼šå¤œé–“å»ºç½®è‡ªå‹•åŒ–ï¼ˆç›®å‰æ‰‹å‹•è§¸ç™¼ï¼‰

### ä¸‰å±¤ç‰ˆæœ¬ç³»çµ±ï¼ˆPEP 440 è¦ç¯„ï¼‰
- **ğŸŸ¢ Release**ï¼ˆ`1.0.0`ï¼‰ï¼šç©©å®šã€æ‰‹å‹•ç™¼å¸ƒã€ç”Ÿç”¢å°±ç·’
  - **Release Notes**ï¼šRelease Drafter ç”Ÿæˆçš„å°ˆæ¥­åˆ†é¡ release notes
  - **ä¾†æº**ï¼šåˆä½µåˆ° main åˆ†æ”¯çš„ PR
- **ğŸŸ¡ Auto**ï¼ˆ`1.0.0a1`ï¼‰ï¼šåŸºæœ¬ç©©å®šã€7zz æ›´æ–°æ™‚è‡ªå‹•ç™¼å¸ƒ
  - **Release Notes**ï¼šGitHub åŸç”Ÿè‡ªå‹•ç”Ÿæˆï¼ˆåŸºæ–¼ commit è¨Šæ¯ï¼‰
  - **ä¾†æº**ï¼šfeature branch ä¸Šçš„ commit è¨˜éŒ„
- **ğŸ”´ Dev**ï¼ˆ`1.1.0.dev1`ï¼‰ï¼šä¸ç©©å®šã€æ‰‹å‹•ç™¼å¸ƒä»¥æ¸¬è©¦æ–°åŠŸèƒ½
  - **Release Notes**ï¼šGitHub åŸç”Ÿè‡ªå‹•ç”Ÿæˆï¼ˆåŸºæ–¼ commit è¨Šæ¯ï¼‰
  - **ä¾†æº**ï¼šfeature branch ä¸Šçš„ commit è¨˜éŒ„

### ç¨‹å¼ç¢¼å“è³ªè¦æ±‚
- **Ruff**ï¼šå¼·åˆ¶ç¨‹å¼ç¢¼é¢¨æ ¼ï¼Œline-length=88ã€select=["E", "F", "I", "UP", "B", "C4", "SIM"]
- **MyPy**ï¼šæ‰€æœ‰ç¨‹å¼ç¢¼éƒ½éœ€è¦é¡å‹æª¢æŸ¥ï¼Œtarget-version=py38
- **Pytest**ï¼šåˆä½µå‰å–®å…ƒæ¸¬è©¦å¿…é ˆé€šé
- **CI å¿…é ˆé€šé**ï¼šæ‰€æœ‰ç¨‹å¼ç¢¼å¿…é ˆé€šé GitHub Actions ä¸­çš„å®Œæ•´æª¢æŸ¥
- **Python ç‰ˆæœ¬ç›¸å®¹æ€§**ï¼šæ‰€æœ‰ç¨‹å¼ç¢¼å¿…é ˆåœ¨ Python 3.8-3.13 ä¸Šé€šéæ¸¬è©¦
- **æäº¤å‰é©—è­‰**ï¼šå¿…é ˆåŸ·è¡Œå®Œæ•´çš„æœ¬åœ°è³ªæª¢æµç¨‹

## ç¨‹å¼ç¢¼æäº¤å‰æª¢æŸ¥æ¸…å–®

åœ¨æäº¤ç¨‹å¼ç¢¼å‰ï¼Œè«‹ç¢ºä¿ï¼š
- [ ] `uv run ruff format .` åŸ·è¡ŒæˆåŠŸï¼Œç¨‹å¼ç¢¼æ ¼å¼åŒ–å®Œæˆ
- [ ] `uv run ruff check --fix .` ç„¡éŒ¯èª¤ï¼Œæ‰€æœ‰ lint è¦å‰‡é€šéï¼ˆåŒ…å« SIM ç°¡åŒ–è¦å‰‡ï¼‰
- [ ] `uv run mypy .` ç„¡éŒ¯èª¤ï¼Œæ‰€æœ‰é¡å‹æª¢æŸ¥é€šé
- [ ] `uv run pytest` å…¨éƒ¨æ¸¬è©¦é€šéï¼Œç„¡å¤±æ•—æ¡ˆä¾‹
- [ ] æ‰€æœ‰ä¿®æ”¹éƒ½ç¶“éé©ç•¶æ¸¬è©¦ï¼ˆå–®å…ƒæ¸¬è©¦ã€æ•´åˆæ¸¬è©¦ï¼‰
- [ ] ç›¸é—œæ–‡ä»¶å·²åŒæ­¥æ›´æ–°ï¼ˆREADME.mdã€CLAUDE.mdã€docstringsï¼‰
- [ ] ç¨‹å¼ç¢¼ç¬¦åˆå°ˆæ¡ˆæ¶æ§‹å’Œè¨­è¨ˆåŸå‰‡
- [ ] æ²’æœ‰éºç•™çš„ TODO æˆ– FIXME è¨»è§£ï¼ˆé™¤éæœ‰è¨ˆåŠƒè™•ç†ï¼‰
- [ ] æäº¤è¨Šæ¯éµå¾ªç´„å®šæ ¼å¼ï¼ˆè©³è¦‹ã€Œæäº¤è¨Šæ¯è¦ç¯„ã€ï¼‰

**é‡è¦**ï¼šåªæœ‰åœ¨æ‰€æœ‰æª¢æŸ¥é …ç›®éƒ½é€šéå¾Œï¼Œæ‰èƒ½æäº¤ç¨‹å¼ç¢¼åˆ°å„²å­˜åº«ã€‚é€™ç¢ºä¿äº†ç¨‹å¼ç¢¼å“è³ªä¸¦é¿å… CI å¤±æ•—ã€‚

## æäº¤è¨Šæ¯è¦ç¯„

py7zz éµå¾ª**ç´„å®šå¼æäº¤**ï¼ˆConventional Commitsï¼‰è¦ç¯„ï¼Œç¢ºä¿è‡ªå‹•ç”Ÿæˆçš„ Release Notes å“è³ªè‰¯å¥½ã€‚

### æ ¼å¼è¦æ±‚

```
<type>(<scope>): <description>    â† ç¬¬ä¸€è¡Œï¼ˆ50-72 å­—ç¬¦ï¼‰

[optional body]                   â† è©³ç´°èªªæ˜ï¼ˆ72 å­—ç¬¦æ›è¡Œï¼‰

[optional footer(s)]              â† ç ´å£æ€§è®Šæ›´ã€å•é¡Œåƒè€ƒ
```

**é‡è¦èªªæ˜**ï¼š
- **ç¬¬ä¸€è¡Œ**ï¼šGitHub è‡ªå‹•ç”Ÿæˆ release notes ä½¿ç”¨
- **å…§å®¹ä¸»é«”**ï¼šè¤‡é›œè®Šæ›´çš„è©³ç´°è§£é‡‹ï¼ˆä¸æœƒå‡ºç¾åœ¨ release notes ä¸­ï¼‰
- **è…³è¨»**ï¼šç ´å£æ€§è®Šæ›´å’Œå•é¡Œåƒè€ƒ

### æäº¤é¡å‹

- **feat**: æ–°åŠŸèƒ½ï¼ˆå°æ‡‰ MINOR ç‰ˆæœ¬ï¼‰
- **fix**: éŒ¯èª¤ä¿®å¾©ï¼ˆå°æ‡‰ PATCH ç‰ˆæœ¬ï¼‰
- **docs**: æ–‡ä»¶è®Šæ›´
- **style**: ä»£ç¢¼æ ¼å¼ï¼ˆä¸å½±éŸ¿åŠŸèƒ½ï¼‰
- **refactor**: é‡æ§‹ä»£ç¢¼
- **perf**: æ€§èƒ½å„ªåŒ–
- **test**: æ¸¬è©¦ç›¸é—œ
- **chore**: å»ºç½®æˆ–å·¥å…·è®Šæ›´
- **ci**: CI/CD ç›¸é—œ

### æè¿°å¯«æ³•

**âŒ ä¸å¥½çš„ç¯„ä¾‹**ï¼š
```bash
git commit -m "feat: add async support"
git commit -m "fix: Windows bug"
git commit -m "docs: update readme"
```

**âœ… å¥½çš„ç¯„ä¾‹**ï¼š
```bash
# å–®è¡Œ commitï¼ˆç°¡å–®è®Šæ›´ï¼‰
git commit -m "feat: add async operations with progress callbacks for large archives"
git commit -m "fix: resolve binary path detection on Windows systems with spaces"
git commit -m "docs: add comprehensive migration guide from zipfile to py7zz"

# å¤šè¡Œ commitï¼ˆè¤‡é›œè®Šæ›´ï¼‰
git commit -m "feat: add async operations with progress callbacks

This commit introduces comprehensive async support including:
- Progress callback mechanism for real-time updates
- Batch operations for multiple archives
- Memory-efficient streaming for large files
- Cross-platform compatibility testing

The implementation maintains backward compatibility while
providing significant performance improvements for large-scale
operations."

git commit -m "fix: resolve binary path detection on Windows systems with spaces

The previous implementation failed when the 7zz binary path contained
spaces due to incorrect subprocess argument handling. This fix:

- Properly quotes binary paths in subprocess calls
- Adds comprehensive path validation
- Includes test cases for paths with spaces
- Maintains compatibility with existing installations

Fixes #42"
```

### é‡å¤§è®Šæ›´

ä½¿ç”¨ `BREAKING CHANGE:` æ¨™è¨˜ï¼ˆå°æ‡‰ MAJOR ç‰ˆæœ¬ï¼‰ï¼š
```bash
git commit -m "feat!: redesign API for better async support

BREAKING CHANGE: SevenZipFile.extract() now returns async iterator instead of list"
```

### ä½œç”¨åŸŸï¼ˆå¯é¸ï¼‰

æŒ‡å®šå½±éŸ¿ç¯„åœï¼š
```bash
git commit -m "feat(api): add batch extraction support"
git commit -m "fix(cli): resolve version display format"
git commit -m "docs(readme): add installation troubleshooting"
```

### ç‚ºä»€éº¼é‡è¦

1. **è‡ªå‹•åŒ– Release Notes**ï¼šRelease Drafter åŸºæ–¼ PR æ¨™é¡Œç”Ÿæˆåˆ†é¡çš„ release notes
2. **ç‰ˆæœ¬æ§åˆ¶**ï¼šå·¥å…·å¯è‡ªå‹•åˆ¤æ–·ç‰ˆæœ¬è™Ÿè®Šæ›´ï¼ˆfeat = minor, fix = patchï¼‰
3. **å¯è¿½è¹¤æ€§**ï¼šæ¸…æ¥šäº†è§£æ¯æ¬¡è®Šæ›´çš„ç›®çš„å’Œå½±éŸ¿
4. **åœ˜éšŠå”ä½œ**ï¼šä¸€è‡´çš„æ ¼å¼æé«˜å¯è®€æ€§

### PR æ¨™é¡Œè¦ç¯„

**é‡è¦**ï¼šPR æ¨™é¡Œå¿…é ˆéµå¾ªç›¸åŒçš„ç´„å®šå¼æäº¤æ ¼å¼ï¼Œå› ç‚ºï¼š
- PR æ¨™é¡Œæœƒç›´æ¥å‡ºç¾åœ¨ release notes ä¸­
- Release Drafter æ ¹æ“š PR æ¨™é¡Œè‡ªå‹•åˆ†é¡å’Œæ¨™ç±¤
- èªç¾©åŒ–ç‰ˆæœ¬æ§åˆ¶ä¾è³´ PR æ¨™é¡Œåˆ¤æ–·ç‰ˆæœ¬é¡å‹

```bash
# PR æ¨™é¡Œç¯„ä¾‹
feat: add async operations with progress callbacks
fix: resolve binary path detection on Windows systems
docs: add comprehensive migration guide from zipfile
perf: optimize memory usage for large file extraction
```

### å»ºç«‹ Pull Request è¦ç¯„

**é‡è¦**ï¼šå»ºç«‹ PR æ™‚å¿…é ˆéµå¾ªä»¥ä¸‹è¦ç¯„ï¼š

1. **PR æ¨™é¡Œæ ¼å¼**ï¼š
   - å¿…é ˆéµå¾ªç´„å®šå¼æäº¤æ ¼å¼ï¼š`<type>(<scope>): <description>`
   - ç¯„ä¾‹ï¼š`feat: add async operations with progress callbacks`

2. **PR å…§å®¹æ ¼å¼**ï¼š
   - åƒè€ƒ `.github/pull_request_template.md` ä¸­çš„æ¨¡æ¿
   - åŒ…å«å®Œæ•´çš„è®Šæ›´èªªæ˜ã€æ¸¬è©¦è³‡è¨Šã€æª¢æŸ¥æ¸…å–®

3. **PR æ¨™ç±¤**ï¼š
   - æ ¹æ“š PR æ¨™é¡Œè‡ªå‹•åˆ†é¡ï¼ˆRelease Drafter è‡ªå‹•è™•ç†ï¼‰
   - ç¢ºä¿é¸æ“‡æ­£ç¢ºçš„è®Šæ›´é¡å‹

4. **PR æè¿°è¦æ±‚**ï¼š
   - æ¸…æ¥šæè¿°è®Šæ›´å…§å®¹å’ŒåŸå› 
   - åˆ—å‡ºç›¸é—œçš„æ¸¬è©¦é …ç›®
   - ç¢ºèªæ‰€æœ‰æª¢æŸ¥æ¸…å–®é …ç›®

**æ¨¡æ¿ä½ç½®**ï¼š`.github/pull_request_template.md`

### æª¢æŸ¥æ¸…å–®

æäº¤å‰ç¢ºèªï¼š
- [ ] ä½¿ç”¨æ­£ç¢ºçš„ type å‰ç¶´
- [ ] æè¿°æ¸…æ¥šå…·é«”åšäº†ä»€éº¼
- [ ] ä½¿ç”¨ç¾åœ¨å¼å‹•è©ï¼ˆ"add" è€Œé "added"ï¼‰
- [ ] é¦–å­—æ¯å°å¯«
- [ ] ä¸è¶…é 72 å­—ç¬¦
- [ ] æè¿°ã€Œåšäº†ä»€éº¼ã€è€Œéã€Œæ€éº¼åšã€

## é–‹ç™¼æ³¨æ„äº‹é …

- **ä¾è³´ç®¡ç†**ï¼šå°ˆç”¨ `uv` é€²è¡Œä¾è³´ç®¡ç†å’Œè™›æ“¬ç’°å¢ƒ
- **Python ç‰ˆæœ¬ç›¸å®¹æ€§**ï¼šæ”¯æ´ Python 3.8+ (åŒ…å« Python 3.13)
- **äºŒé€²ä½æª”æ¡ˆç™¼å¸ƒ**ï¼šåŒ…å«å¾ GitHub ç™¼å¸ƒä¸‹è¼‰çš„å¹³å°ç‰¹å®š 7zz åŸ·è¡Œæª”
- **è‡ªå‹•å»ºç½®**ï¼šåµæ¸¬åˆ°æ–° 7zz ç™¼å¸ƒæ™‚è‡ªå‹•å»ºç«‹å¤œé–“å»ºç½®
- **è·¨å¹³å°ç›¸å®¹æ€§**ï¼šmacOSã€Debian ç³» Linuxã€Windows x64
- **æˆæ¬Šæ¢æ¬¾**ï¼šBSD-3 + LGPL 2.1ï¼ˆä¿ç•™ 7-Zip æˆæ¬Šæ¢æ¬¾ï¼‰
- **ç•°æ­¥æ”¯æ´**ï¼šæä¾›å®Œæ•´çš„ç•°æ­¥æ“ä½œ API èˆ‡é€²åº¦å ±å‘Š

## å»ºç½®ç³»çµ±

### äºŒé€²ä½æª”æ¡ˆç™¼å¸ƒ
- CI ä¸‹è¼‰å¹³å°ç‰¹å®šè³‡ç”¢ï¼ˆ`7z{ver}-{os}-{arch}.tar.xz`ï¼‰
- é©—è­‰ SHA256 æ ¡é©—å’Œ
- è§£å£“ç¸®è‡³ `bin/7zz[.exe]`
- æ‰“åŒ…æ–¼ wheel ä¸­ç™¼å¸ƒ

### ç‰ˆæœ¬ç®¡ç†
- æ¡ç”¨ PEP 440 è¦ç¯„ï¼Œç¢ºä¿ PyPI å’Œ GitHub Release ç‰ˆæœ¬ä¸€è‡´
- æ¯å€‹ py7zz ç‰ˆæœ¬éƒ½èˆ‡ç‰¹å®š 7zz ç‰ˆæœ¬é…å°ä»¥ç¢ºä¿ä¸€è‡´æ€§
- ç‰ˆæœ¬è³‡è¨Šé€é bundled_info.py çš„ VERSION_REGISTRY è¿½è¹¤
- ç„¡åŸ·è¡Œæ™‚è‡ªå‹•æ›´æ–° - ä½¿ç”¨è€…å¿…é ˆå‡ç´šæ•´å€‹ py7zz å¥—ä»¶
- å¤œé–“å»ºç½®å¯ç”¨æ–¼åœ¨æ­£å¼ç™¼å¸ƒå‰æ¸¬è©¦æ–° 7zz ç™¼å¸ƒ
- æ­£å¼ç™¼å¸ƒéœ€è¦æ‰‹å‹•æ¸¬è©¦å’Œæ ¸å‡†

## é‡Œç¨‹ç¢‘

å°ˆæ¡ˆéµå¾ªçµæ§‹åŒ–é–‹ç™¼è¨ˆåŠƒï¼š
- **M1** âœ…ï¼šå„²å­˜åº«è¨­å®šã€åŸºæœ¬ APIã€æ‰‹å‹•äºŒé€²ä½æª”æ¡ˆä¸‹è¼‰
- **M2** âœ…ï¼šè·¨å¹³å° wheel å»ºç½®ã€CI è¨­å®š
- **M3** âœ…ï¼šGitHub API æ•´åˆã€å¤œé–“å»ºç½®è‡ªå‹•åŒ–
- **M4** âœ…ï¼šéåŒæ­¥æ“ä½œã€é€²åº¦å ±å‘Š
- **M5** âœ…ï¼šæ–‡ä»¶ã€é¡å‹æç¤ºã€PyPI ç™¼å¸ƒ
  - [x] ç‚º zipfile/tarfile ä½¿ç”¨è€…å»ºç«‹ MIGRATION.md
  - [x] å°‡é·ç§»æŒ‡å—é€£çµåŠ å…¥ README.md
  - [x] å®Œæˆ API æ–‡ä»¶å’Œç¯„ä¾‹
  - [x] å®Œæˆé¡å‹æç¤ºå’Œæ–‡ä»¶å­—ä¸²
  - [x] æº–å‚™ PyPI ç™¼å¸ƒ

## äºŒé€²ä½æª”æ¡ˆç®¡ç†èˆ‡å®‰è£ç­–ç•¥

### æ··åˆäºŒé€²ä½æª”æ¡ˆç™¼å¸ƒæ–¹æ³•

py7zz å¯¦ä½œæ··åˆæ–¹æ³•ä»¥ç¢ºä¿**éš”é›¢æ€§**å’Œ**ç‰ˆæœ¬ä¸€è‡´æ€§**ï¼š

#### è¨­è¨ˆåŸå‰‡
1. **æ°¸ä¸ä½¿ç”¨ç³»çµ± 7zz** - é¿å…ç‰ˆæœ¬è¡çªä¸¦ç¢ºä¿å¯é‡ç¾è¡Œç‚º
2. **ç‰ˆæœ¬é…å°** - æ¯å€‹ py7zz ç‰ˆæœ¬éƒ½èˆ‡ç‰¹å®š 7zz ç‰ˆæœ¬é…å°
3. **è‡ªå‹•è™•ç†** - ä½¿ç”¨è€…ç„¡éœ€æ‰‹å‹•å®‰è£æˆ–è¨­å®š 7zz
4. **é›¢ç·šèƒ½åŠ›** - ä¸‹è¼‰çš„äºŒé€²ä½æª”æ¡ˆå¿«å–ä»¥ä¾›é›¢ç·šä½¿ç”¨

#### å¯¦ä½œç­–ç•¥

**PyPI Wheel ç™¼å¸ƒï¼ˆç”Ÿç”¢ç’°å¢ƒï¼‰**ï¼š
- ä½¿ç”¨ GitHub Actions å¾ https://github.com/ip7z/7zip/releases ä¸‹è¼‰ 7zz äºŒé€²ä½æª”æ¡ˆ
- å°‡å¹³å°ç‰¹å®šäºŒé€²ä½æª”æ¡ˆåµŒå…¥ wheel å¥—ä»¶
- ä½¿ç”¨è€…é€é `pip install py7zz` å–å¾—ç¶å®šäºŒé€²ä½æª”æ¡ˆ
- å®‰è£å¾Œç„¡éœ€ç¶²è·¯é€£ç·š

**åŸå§‹ç¢¼å®‰è£ï¼ˆé–‹ç™¼ç’°å¢ƒï¼‰**ï¼š
- git å„²å­˜åº«ä¸­ `py7zz/bin/` ç›®éŒ„ç‚ºç©º
- é€é `updater.py` é¦–æ¬¡ä½¿ç”¨æ™‚è‡ªå‹•ä¸‹è¼‰æ­£ç¢º 7zz äºŒé€²ä½æª”æ¡ˆ
- å¿«å–æ–¼ `~/.cache/py7zz/{version}/` ç›®éŒ„
- åƒ…é¦–æ¬¡ä½¿ç”¨æ™‚éœ€è¦ç¶²è·¯é€£ç·š

#### äºŒé€²ä½æª”æ¡ˆç™¼ç¾å„ªå…ˆé †åº
```python
def find_7z_binary() -> str:
    # 1. ç’°å¢ƒè®Šæ•¸ï¼ˆåƒ…é–‹ç™¼/æ¸¬è©¦ç”¨ï¼‰
    if PY7ZZ_BINARY and exists: return PY7ZZ_BINARY
    
    # 2. ç¶å®šäºŒé€²ä½æª”æ¡ˆï¼ˆPyPI wheel å¥—ä»¶ï¼‰
    if bundled_binary and exists: return bundled_binary
    
    # 3. è‡ªå‹•ä¸‹è¼‰äºŒé€²ä½æª”æ¡ˆï¼ˆåŸå§‹ç¢¼å®‰è£ï¼‰
    if auto_download_successful: return cached_binary
    
    # 4. éŒ¯èª¤ - ç„¡ç³»çµ±å‚™æ´
    raise RuntimeError("7zz binary not found")
```

#### ç‰ˆæœ¬ä¸€è‡´æ€§æ©Ÿåˆ¶
- `version.py` å®šç¾©ï¼š`__version__ = "1.0.0"` (PEP 440 è¦ç¯„)
- `bundled_info.py` çš„ `VERSION_REGISTRY` è¿½è¹¤ 7zz ç‰ˆæœ¬å°æ‡‰é—œä¿‚
- è‡ªå‹•ä¸‹è¼‰ä½¿ç”¨ `get_bundled_7zz_version()` ç¢ºä¿æ­£ç¢ºäºŒé€²ä½æª”æ¡ˆç‰ˆæœ¬
- è³‡ç”¢å‘½åï¼š`24.07` â†’ `2407` ç”¨æ–¼ GitHub ç™¼å¸ƒ URL

#### å¿«å–ç®¡ç†
- ä½ç½®ï¼š`~/.cache/py7zz/{version}/7zz[.exe]`
- é€é `updater.cleanup_old_versions()` è‡ªå‹•æ¸…ç†
- è·¨ py7zz é‡æ–°å®‰è£ä¿ç•™
- å¾ tar.xz/exe æª”æ¡ˆé€²è¡Œå¹³å°ç‰¹å®šäºŒé€²ä½æª”æ¡ˆè§£å£“ç¸®

### è¨­å®šè¦æ±‚

#### pyproject.toml äºŒé€²ä½æª”æ¡ˆåŒ…å«
```toml
[tool.hatch.build.targets.wheel]
packages = ["py7zz"]
include = [
    "py7zz/bin/**/*",
]

[tool.hatch.build.targets.wheel.force-include]
"py7zz/bin" = "py7zz/bin"
```

#### GitHub Actions äºŒé€²ä½æª”æ¡ˆä¸‹è¼‰
- å¾ GitHub ç™¼å¸ƒä¸‹è¼‰å¹³å°ç‰¹å®š 7zz äºŒé€²ä½æª”æ¡ˆ
- æ”¯æ´ Linuxã€macOSï¼ˆx64/arm64ï¼‰ã€Windows å¹³å°
- é©—è­‰äºŒé€²ä½æª”æ¡ˆå¯åŸ·è¡Œæ€§

#### éŒ¯èª¤è™•ç†èˆ‡å‚™æ´
- ç„¡ç³»çµ± 7zz å‚™æ´ï¼Œç¢ºä¿ç‰ˆæœ¬ä¸€è‡´æ€§
- æä¾›æ¸…æ™°çš„éŒ¯èª¤è¨Šæ¯å’Œè§£æ±ºæ–¹æ¡ˆ
- æ”¯æ´ç’°å¢ƒè®Šæ•¸è¦†è“‹ï¼ˆé–‹ç™¼ç”¨ï¼‰

### æ¸¬è©¦è¦æ±‚

#### å®‰è£æ–¹æ³•æ¸¬è©¦
- æ¸¬è©¦ä½¿ç”¨ç¶å®šäºŒé€²ä½æª”æ¡ˆçš„ PyPI wheel å®‰è£
- æ¸¬è©¦ä½¿ç”¨è‡ªå‹•ä¸‹è¼‰çš„åŸå§‹ç¢¼å®‰è£
- æ¸¬è©¦ç’°å¢ƒè®Šæ•¸è¦†è“‹
- æ¸¬è©¦å¿«å–å¡«å……å¾Œçš„é›¢ç·šåŠŸèƒ½
- æ¸¬è©¦è·¨å®‰è£æ–¹æ³•çš„ç‰ˆæœ¬ä¸€è‡´æ€§

#### äºŒé€²ä½æª”æ¡ˆé©—è­‰
- é©—è­‰äºŒé€²ä½æª”æ¡ˆå¯åŸ·è¡Œæ€§ï¼š`7zz --help`
- é©—è­‰ç‰ˆæœ¬åŒ¹é…ï¼šè§£æè¼¸å‡ºçš„ç‰ˆæœ¬å­—ä¸²
- é©—è­‰å¹³å°ç›¸å®¹æ€§ï¼šæ­£ç¢ºæ¶æ§‹
- é©—è­‰è·¨æœƒè©±å¿«å–æŒä¹…æ€§

## CLI å·¥å…·

py7zz æä¾› CLI å·¥å…·ä»¥æ”¯æ´ç‰ˆæœ¬æŸ¥è©¢å’Œç›´æ¥ 7zz æ“ä½œï¼š

### ç‰ˆæœ¬æŸ¥è©¢
```bash
# æŸ¥è©¢è©³ç´°ç‰ˆæœ¬è³‡è¨Š
py7zz version

# JSON æ ¼å¼è¼¸å‡º
py7zz version --format json

# å¿«é€Ÿç‰ˆæœ¬æŸ¥è©¢
py7zz --py7zz-version
py7zz -V
```

### ç›´æ¥ 7zz æ“ä½œ
```bash
# ç›´æ¥å‚³éçµ¦ 7zz äºŒé€²ä½æª”æ¡ˆ
py7zz a archive.7z files/
py7zz x archive.7z
py7zz l archive.7z
```

**æ³¨æ„**ï¼šCLI å…¥å£é»å¾ `7zz` æ”¹ç‚º `py7zz` ä»¥é¿å…èˆ‡ç³»çµ± 7zz å‘½ä»¤è¡çªã€‚

æ­¤æ··åˆæ–¹æ³•ç¢ºä¿ py7zz åœ¨æ‰€æœ‰å®‰è£æ–¹æ³•ä¸­éƒ½èƒ½å¯é é‹ä½œï¼ŒåŒæ™‚ç¶­è­·åš´æ ¼çš„ç‰ˆæœ¬æ§åˆ¶å’Œç³»çµ±éš”é›¢ã€‚